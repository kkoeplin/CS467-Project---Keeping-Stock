<!--https://developer.mozilla.org/en-US/docs/Web/CSS/@keyframes
https://www.w3schools.com/howto/howto_css_loader.asp-->
{% extends "base.html" %}
{% block title %}Create Item{% endblock %}

{% block content %}
<h2>Create New Item</h2>

<!-- Camera Feed -->
<video id="cameraFeed" autoplay playsinline width="320" height="240"></video>
<button id="captureBtn" class="take-image-btn">Capture</button>

<!-- Preview -->
<div id="preview" hidden>
    <img id="capturedImage" alt="Captured item preview">
    <div id="spinner" style="display:none; text-align:center; margin-top:10px;">
        <div class="loader"></div>
        <p>Analyzing...</p>
    </div>
    <p><strong>Description:</strong> <span id="desc"></span></p>
    <p><strong>Tags:</strong> <span id="tags"></span></p>
    <button id="backBtn" class="take-image-btn grey">Back</button>
</div>

<script src="{{ url_for('static', filename='createItem.js') }}"></script>
<style>
  .loader {
    border: 4px solid #f3f3f3;
    border-top: 4px solid #555;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
    margin: 0 auto;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
</style>
{% endblock %}